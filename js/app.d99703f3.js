(function(e){function t(t){for(var r,u,i=t[0],c=t[1],s=t[2],l=0,p=[];l<i.length;l++)u=i[l],Object.prototype.hasOwnProperty.call(a,u)&&a[u]&&p.push(a[u][0]),a[u]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);f&&f(t);while(p.length)p.shift()();return o.push.apply(o,s||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,u=1;u<n.length;u++){var c=n[u];0!==a[c]&&(r=!1)}r&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},a={app:0},o=[];function u(e){return i.p+"js/"+({}[e]||e)+"."+{"chunk-2d213726":"ef5218d1","chunk-6964fb8e":"10e28ee2","chunk-7ee13d54":"ef549e90"}[e]+".js"}function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(e){var t=[],n=a[e];if(0!==n)if(n)t.push(n[2]);else{var r=new Promise((function(t,r){n=a[e]=[t,r]}));t.push(n[2]=r);var o,c=document.createElement("script");c.charset="utf-8",c.timeout=120,i.nc&&c.setAttribute("nonce",i.nc),c.src=u(e);var s=new Error;o=function(t){c.onerror=c.onload=null,clearTimeout(l);var n=a[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;s.message="Loading chunk "+e+" failed.\n("+r+": "+o+")",s.name="ChunkLoadError",s.type=r,s.request=o,n[1](s)}a[e]=void 0}};var l=setTimeout((function(){o({type:"timeout",target:c})}),12e4);c.onerror=c.onload=o,document.head.appendChild(c)}return Promise.all(t)},i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/KKBOX_Demo/",i.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var f=s;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"73ec":function(e,t,n){},"7d26":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return i}));var r=n("2b0e"),a=function(e,t){c.$emit("system-alert",{type:e,message:t})},o=function(e,t){c.$emit("get-info",{id:e,tab:t})},u=function(e,t){c.$emit("get-info",{id:e,tab:t})},i=function(e,t){c.$emit("to-scroll",{now:e,next:t})},c=new r["default"];t["b"]=c},ba6a:function(e,t,n){"use strict";var r,a,o,u,i;n.d(t,"d",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"e",(function(){return o})),n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return i})),function(e){e["PopularList"]="PopularList",e["Playlist"]="PopularPlaylist",e["Album"]="PopularAlbum",e["Artist"]="PopularArtist"}(r||(r={})),function(e){e["MainList"]="MainList",e["MainType"]="MainType",e["Playlist"]="MainPlaylist",e["Album"]="MainAlbum",e["Artist"]="MainArtist"}(a||(a={})),function(e){e["Information"]="Information",e["Warning"]="Warning",e["Error"]="Error",e["Success"]="Success",e["Confirmation"]="Confirmation",e["ConfirmationWithCancel"]="ConfirmationWithCancel"}(o||(o={})),function(e){e["InternalServer"]="Error.__internal_server",e["IncorrectInputData"]="Error.__Incorrect_Input_Data"}(u||(u={})),function(e){e["Popular"]="Popular",e["MainList"]="MainList"}(i||(i={}))},c78c:function(e,t,n){"use strict";n("d3b7"),n("96cf");var r=n("1da1"),a=n("d4ec"),o=n("bee2"),u=n("bc3a"),i=n.n(u),c=n("7d26"),s=n("ba6a"),l=(n("99af"),function(e){return e}),f=function(e){return m.message="[token null] request fail",c["b"].$emit("api-error",m),Promise.reject(e)},p=function(e){return Promise.resolve(e)},d=function(e){var t=e.response.data,n=t.traceId,r=t.error;if(e.response)if(n&&r)m.message=e.response.data.error.message;else{var a=e.response,o=a.status,u=a.data,i=a.statusText;m.code=o,m.message="".concat(u," ").concat(i)}else m.message=JSON.stringify(e);return c["b"].$emit("api-error",m),Promise.reject(m)},m={code:"",message:""},b=function(){function e(){Object(a["a"])(this,e)}return Object(o["a"])(e,[{key:"request",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.headers={Accept:"application/x-www-form-urlencoded","Content-Type":"application/x-www-form-urlencoded"},localStorage.getItem("accessToken")?t.headers={Authorization:"Bearer ".concat(localStorage.getItem("accessToken"))}:Object(c["a"])(s["e"].Error,s["a"].InternalServer),n=i.a.create(),n.interceptors.request.use((function(e){return l(e)}),(function(e){return f(e)})),n.interceptors.response.use((function(e){return p(e)}),(function(e){return d(e)})),e.prev=5,e.next=8,n.request(t);case 8:return r=e.sent,e.abrupt("return",Promise.resolve(r));case 12:return e.prev=12,e.t0=e["catch"](5),e.abrupt("return",Promise.reject(e.t0));case 15:case"end":return e.stop()}}),e,null,[[5,12]])})));function t(t){return e.apply(this,arguments)}return t}()}]),e}(),h=new b;t["a"]=h},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("el-container",{staticClass:"project_container"},[n("header",{staticClass:"header_button"},[n("el-menu",[n("router-link",{attrs:{to:"/PopularList"}},[n("el-menu-item",[e._v("熱門歌單")])],1),n("router-link",{attrs:{to:"/MainList"}},[n("el-menu-item",[e._v("主題歌單")])],1)],1)],1),n("el-main",[n("div",{ref:"childDiv",staticClass:"container"},[n("router-view")],1)])],1)],1)},o=[],u=n("d4ec"),i=n("bee2"),c=n("262e"),s=n("2caf"),l=n("9ab4"),f=n("4bb5"),p=n("60a3"),d=n("f727"),m=n("7d26"),b=Object(f["b"])("Token"),h=n("4328"),v=function(e){Object(c["a"])(n,e);var t=Object(s["a"])(n);function n(){var e;return Object(u["a"])(this,n),e=t.apply(this,arguments),e.GetTokenRequest={},e}return Object(i["a"])(n,[{key:"created",value:function(){this.GetTokenRequest.grant_type="client_credentials",this.GetTokenRequest.client_id="56becb08dfb467fb1d42b8d499b03012",this.GetTokenRequest.client_secret="05cd3ab201d7ca9ccad105e099a668e7",localStorage.getItem("accessToken")||this.getToken(this.GetTokenRequest)}},{key:"getToken",value:function(e){var t=this;d["a"].getToken(h.stringify(e)).then((function(e){t.setPublicToken(e.access_token),localStorage.setItem("accessToken",e.access_token)}))}},{key:"beforeMount",value:function(){var e=this;m["b"].$on("api-error",(function(t){e.$message({showClose:!0,message:t.message,type:"error"})})),m["b"].$on("to-scroll",(function(t,n){e.$refs.childDiv.scrollTop=0}))}}]),n}(r["default"]);l["a"]([b.State("publicToken")],v.prototype,"Token",void 0),l["a"]([Object(f["a"])("Token/setPublicToken")],v.prototype,"setPublicToken",void 0),v=l["a"]([p["a"]],v);var g=v,k=g,y=n("2877"),w=Object(y["a"])(k,a,o,!1,null,null,null),T=w.exports,P=(n("d3b7"),n("8c4f"));r["default"].use(P["a"]);var j=[{path:"/",redirect:{name:"PopularList"}},{path:"/PopularList",name:"PopularList",component:function(){return n.e("chunk-7ee13d54").then(n.bind(null,"7005"))},children:[{path:"/Playlist/:id",name:"PopularPlaylist"},{path:"/Album/:id",name:"PopularAlbum"},{path:"/Artist/:id",name:"PopularArtist"}]},{path:"/MainList",name:"MainList",component:function(){return n.e("chunk-6964fb8e").then(n.bind(null,"3de7"))},children:[{path:"/MainType/:id",name:"MainType"},{path:"/Playlist/:id",name:"MainPlaylist"},{path:"/Album/:id",name:"MainAlbum"},{path:"/Artist/:id",name:"MainArtist"}]},{path:"*",name:"Error404",component:function(){return n.e("chunk-2d213726").then(n.bind(null,"ad5b"))}}],O=new P["a"]({mode:"hash",base:"/KKBOX_Demo/",routes:j});O.beforeEach((function(e,t,n){n()}));var _=O,x=n("2f62"),M=n("ade3"),A={publicToken:"",userToken:""},R="PUBLIC_TOKEN",q={publicToken:function(e){return e.publicToken},userToken:function(e){return e.userToken}},S={setPublicToken:function(e,t){e.commit(R,t)}},L=Object(M["a"])({},R,(function(e,t){e.publicToken=t})),C={namespaced:!0,state:A,getters:q,actions:S,mutations:L};r["default"].use(x["a"]);var I=new x["a"].Store({modules:{Token:C}}),E=n("5c96"),$=n.n(E);n("0fae"),n("73ec");r["default"].use($.a),r["default"].config.productionTip=!1,new r["default"]({router:_,store:I,render:function(e){return e(T)}}).$mount("#app")},f727:function(e,t,n){"use strict";n("99af"),n("96cf");var r=n("1da1"),a=n("c78c"),o="https://api.kkbox.com/v1.1/";t["a"]={getToken:function(e){return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={method:"post",url:"/token",data:e},t.next=3,a["a"].request(n);case 3:return r=t.sent,t.abrupt("return",r.data);case 5:case"end":return t.stop()}}),t)})))()},Search:function(e){return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={method:"get",url:o+"search?q=".concat(e.q,"&territory=").concat(e.territory,"&limit=").concat(e.limit,"&type=").concat(e.type),data:e},t.next=3,a["a"].request(n);case 3:return r=t.sent,t.abrupt("return",r.data);case 5:case"end":return t.stop()}}),t)})))()},getPlaylist:function(e){return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={method:"get",url:o+"".concat(e,"?territory=TW")},t.next=3,a["a"].request(n);case 3:return r=t.sent,t.abrupt("return",r.data);case 5:case"end":return t.stop()}}),t)})))()},getAlbum:function(e){return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={method:"get",url:o+"albums/".concat(e,"?territory=TW")},t.next=3,a["a"].request(n);case 3:return r=t.sent,t.abrupt("return",r.data);case 5:case"end":return t.stop()}}),t)})))()},getTracks:function(e){return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={method:"get",url:o+"albums/".concat(e,"/tracks?territory=TW")},t.next=3,a["a"].request(n);case 3:return r=t.sent,t.abrupt("return",r.data);case 5:case"end":return t.stop()}}),t)})))()},getArtist:function(e){return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={method:"get",url:o+"artists/".concat(e,"/albums?territory=TW")},t.next=3,a["a"].request(n);case 3:return r=t.sent,t.abrupt("return",r.data);case 5:case"end":return t.stop()}}),t)})))()}}}});
//# sourceMappingURL=app.d99703f3.js.map